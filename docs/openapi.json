{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"servers":[{"url":"/frontend-api"}],"paths":{"/users/register":{"post":{"tags":["Users"],"summary":"Зарегистрировать пользователя","operationId":"register_users_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterUser"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"409":{"description":"Conflict","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/login":{"post":{"tags":["Users"],"summary":"Залогинить пользователя","operationId":"login_users_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Login"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDetailsResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}}},"409":{"description":"Conflict","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/logout":{"post":{"tags":["Users"],"summary":"Разлогинить пользователя","operationId":"logout_users_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/users/verify-email":{"post":{"tags":["Users"],"summary":"Подтвердить почту","operationId":"verify_email_users_verify_email_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyEmailRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/forgot-password":{"post":{"tags":["Users"],"summary":"Запросить сброс пароля","operationId":"generate_password_reset_code_users_forgot_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/reset-password":{"post":{"tags":["Users"],"summary":"Установить новый пароль","operationId":"reset_password_users_reset_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordResetRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/users/me":{"get":{"tags":["Users"],"summary":"Получить учетные данные пользователя","operationId":"get_user_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDetailsResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}}}}},"delete":{"tags":["Users"],"summary":"Удалить текущего пользователя","description":"Мягкое удаление","operationId":"delete_user_users_me_delete","responses":{"204":{"description":"Successful Response"},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}}}}},"patch":{"tags":["Users"],"summary":"Редактировать данные текущего пользователя","operationId":"change_user_users_me_patch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChangeUserResponse"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDetailsResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sites/my":{"get":{"tags":["Sites"],"summary":"Получить список сгенерированных сайтов текущего пользователя","operationId":"get_user_sites_sites_my_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/SiteResponse"},"type":"array","title":"Response 200 Get User Sites Sites My Get"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}}}}}},"/sites/create":{"post":{"tags":["Sites"],"summary":"Создать сайт","operationId":"create_site_sites_create_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSiteRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SiteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sites/{site_id}/generate":{"post":{"tags":["Sites"],"summary":"Сгенерировать HTML код сайта","description":"Код сайта будет транслироваться стримом по мере генерации.\n\nEndpoint может принять новый prompt, тогда html будет генерироваться уже по новому промпту.\nПосле генерации новый промпт будет сохранён в БД.","operationId":"generate_site_sites__site_id__generate_post","parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/SiteGenerationRequest"},{"type":"null"}],"title":"Site Generation Request"}}}},"responses":{"200":{"description":"Successful Response","content":{"text/plain":{"schema":{"type":"string"}}}},"408":{"content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Request Timeout"},"503":{"content":{"text/plain":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Service Unavailable"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/sites/{site_id}":{"get":{"tags":["Sites"],"summary":"Получить сайт","operationId":"get_site_sites__site_id__get","parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SiteResponse"}}}},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Unauthorized"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Sites"],"summary":"Редактировать данные сайта","operationId":"update_site_sites__site_id__patch","parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSiteRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SiteResponse"}}}},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Unauthorized"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Sites"],"summary":"Удалить сайт сайта","operationId":"delete_site_sites__site_id__delete","parameters":[{"name":"site_id","in":"path","required":true,"schema":{"type":"integer","title":"Site Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"204":{"description":"No Content"},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Unauthorized"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"}}},"description":"Not Found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"ChangeUserResponse":{"properties":{"username":{"type":"string","maxLength":254,"title":"Username"}},"type":"object","required":["username"],"title":"ChangeUserResponse"},"CreateSiteRequest":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":128},{"type":"null"}],"title":"Title"},"prompt":{"type":"string","title":"Prompt"}},"type":"object","required":["prompt"],"title":"CreateSiteRequest"},"ErrorModel":{"properties":{"detail":{"anyOf":[{"type":"string"},{"additionalProperties":{"type":"string"},"type":"object"}],"title":"Detail"}},"type":"object","required":["detail"],"title":"ErrorModel"},"ForgotPasswordRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"}},"type":"object","required":["email"],"title":"ForgotPasswordRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Login":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","format":"password","title":"Password","writeOnly":true}},"type":"object","required":["email","password"],"title":"Login"},"PasswordResetRequest":{"properties":{"token":{"type":"string","maxLength":64,"title":"Token"},"password":{"type":"string","format":"password","title":"Password","writeOnly":true}},"type":"object","required":["token","password"],"title":"PasswordResetRequest"},"RegisterUser":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","format":"password","title":"Password","writeOnly":true},"username":{"anyOf":[{"type":"string","maxLength":254},{"type":"null"}],"title":"Username","examples":[null]}},"type":"object","required":["email","password"],"title":"RegisterUser"},"SiteGenerationRequest":{"properties":{"prompt":{"type":"string","title":"Prompt"}},"type":"object","required":["prompt"],"title":"SiteGenerationRequest"},"SiteResponse":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"htmlCodeUrl":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Htmlcodeurl"},"screenshotUrl":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Screenshoturl"},"prompt":{"type":"string","title":"Prompt"},"createdAt":{"type":"string","title":"Createdat"},"updatedAt":{"type":"string","title":"Updatedat"}},"type":"object","required":["id","title","htmlCodeUrl","screenshotUrl","prompt","createdAt","updatedAt"],"title":"SiteResponse"},"UpdateSiteRequest":{"properties":{"title":{"type":"string","maxLength":128,"title":"Title"}},"type":"object","required":["title"],"title":"UpdateSiteRequest"},"UserDetailsResponse":{"properties":{"profileId":{"type":"integer","title":"Profileid"},"email":{"type":"string","format":"email","title":"Email"},"username":{"type":"string","maxLength":254,"title":"Username"},"registeredAt":{"type":"string","title":"Registeredat"},"updatedAt":{"type":"string","title":"Updatedat"},"isActive":{"type":"boolean","title":"Isactive"}},"type":"object","required":["profileId","email","username","registeredAt","updatedAt","isActive"],"title":"UserDetailsResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VerifyEmailRequest":{"properties":{"token":{"type":"string","title":"Token"}},"type":"object","required":["token"],"title":"VerifyEmailRequest"}}}}